let Tableau=function(e={}){if(typeof t=="undefined"){if(typeof jQuery!="undefined")var t=jQuery;else throw ReferenceError("jQuery is required to use Tableau")}e=t.extend({minCellWidth:240,bordered:true,firstColumnWidth:null},e);t("table.tableau, .tableau table").each(function(l,s){let i=t(this).parents(".tableau").length>0;console.log(t(this).parents(".tableau"));let o,a,r,n,d,f,u=false;let h=i?t(this).parents(".tableau"):t("<div></div>").addClass("tableau");let c=i?t(s):t(s).clone().removeClass("tableau");if(!i){c.appendTo(h);h.insertBefore(s);s.remove()}p();h.scroll(function(e){if(!u)return;let l=t(this).scrollLeft();let s=t(this).scrollTop();a.css("top",s);n.css({left:l});if(l!=0)n.addClass("floating");else n.removeClass("floating")});function p(){a=t("thead",t(c));r=t("tbody",t(c));n=t("td:first-of-type",r);d=t("tr:first-of-type>th",a).length;f=t("th,td",h);c.addClass(e.bordered?"bordered":"");n.push(t("th:first-of-type",a)[0]);n.css({position:"relative",left:0});o=h.width()/d;o=o<e.minCellWidth?e.minCellWidth:o;f.css("min-width",o);r.css("marginTop",a.height());n.css({minWidth:e.firstColumnWidth==null?o:e.firstColumnWidth});u=true}function b(){u=false;a.css({top:0});n.css({left:0}).removeClass("floating")}h[0].tableau={refresh:(l={})=>{e=t.extend(e,l);b();p()},styleOnly:b}})};if(typeof module!="undefined"&&module.exports)module.exports=Tableau;
